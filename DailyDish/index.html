<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Config -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO -->
    <meta name="author" content="Dawid Florian" />
    <title>Daily Dish</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../img/favicon/apple-touch-icon.png">
    <link rel="icon" type="../image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="../image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="../img/favicon/site.webmanifest">

    <!-- Style -->
    <link href="../css/dev/bootstrap.min.css" rel="stylesheet" >
    <link href="../css/dev/bootstrap-icons.css" rel="stylesheet" type="text/css">

    <style>

      .restaurant-container {
        max-width: 400px;
        width: inherit;
        border-radius: 5px;
        padding: 10px;
      }

      .container {
        max-width: 470px;
      }

    </style>

    <script>
      async function onloadBody() {
        await loadPapaMenu();
      }

      async function loadPapaMenu() {
        const papaMenu = document.getElementById('papaMenu');
        const proxyUrl = 'https://api.allorigins.win/get?url=';
        const targetUrl = encodeURIComponent('https://papacafe.pl/obiady/');
        const response = await fetch(proxyUrl + targetUrl);
        const data = await response.json();
        const parser = new DOMParser();
        const doc = parser.parseFromString(data.contents, 'text/html');
        const menuElement = doc.evaluate('/html/body/div[2]/div/div/main/article/div/div/div[3]/div[1]', doc, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
        papaMenu.innerHTML = menuElement.outerHTML;
      }
    </script>

  </head>
  
  <body class="bg-dark" onload="onloadBody()">

    <main class="container">
      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
              Portius
            </button>
          </h2>
          <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <div 
                class="fb-page"
                data-href="https://www.facebook.com/restauracjaportius"
                data-height="675"
                data-small-header="true"
                data-adapt-container-width="true"
                data-hide-cover="true"
                data-show-posts="true"
                data-width="400">
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
              Lanka
            </button>
          </h2>
          <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <div 
                class="fb-page"
                data-href="https://www.facebook.com/LankaKrosno"
                data-height="675"
                data-small-header="true"
                data-adapt-container-width="true"
                data-hide-cover="true"
                data-show-posts="true"
                data-width="400">
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
              Wodnik
            </button>
          </h2>
          <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <div 
                class="fb-page"
                data-href="https://www.facebook.com/zajazdwodnik"
                data-height="675"
                data-small-header="true"
                data-adapt-container-width="true"
                data-hide-cover="true"
                data-show-posts="true"
                data-width="400">
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
              Papa
            </button>
          </h2>
          <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <div class="restaurant-container">
                <b>Papa Cafe</b>
                <div id="papaMenu">...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script async="1" defer="1" crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v20.0" nonce="EuCWaLOw"></script>
  </body>
</html>
